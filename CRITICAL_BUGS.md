# üö® CRITICAL BUGS ‚Äî AEL CRM

> –î–∞—Ç–∞: 2026-02-22  
> –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: **–ö—Ä–∏—Ç–∏—á–Ω–∏–π (CRITICAL)** ‚Äî –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –Ω–µ–≥–∞–π–Ω–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

---

## ‚úÖ –í–°–Ü –ë–ê–ì–ò –í–ò–ü–†–ê–í–õ–ï–ù–û!

| # | –ë–∞–≥ | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å |
|---|------|------|--------|
| 1 | Alembic Migration Not Applied | alembic/ | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 2 | AI Constants Mismatch | `app/ai/prompts.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 3 | Duplicate Import | `app/api/v1/leads.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 4 | Synchronous File I/O | `app/api/v1/leads.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 5 | Naive datetime.now() | `app/api/v1/leads.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 6 | Race Condition (current_leads) | `app/api/v1/leads.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 7 | Notes Pagination Memory | `app/api/v1/leads.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 8 | Missing File Size Limit | `app/api/v1/leads.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 9 | Quality Tier Update | `app/services/lead_service.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 10 | Lead Score History | `app/models/score_history.py` | ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |

---

## üìä –ü—ñ–¥—Å—É–º–æ–∫

| –°—Ç–∞—Ç—É—Å | –ö—ñ–ª—å–∫—ñ—Å—Ç—å |
|--------|-----------|
| ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ | 10 |

---

## üîß –í–∏–∫–æ–Ω–∞–Ω—ñ –¥—ñ—ó

1. **Alembic Migration** ‚Äî –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ–π, –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ `add_soft_delete_and_indexes`
2. **AI Constants** ‚Äî –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —Ç–µ–ø–µ—Ä –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑ enum
3. **Race Condition** ‚Äî –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è real-time `SELECT COUNT(*)` –∑–∞–º—ñ—Å—Ç—å —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç—É
4. **–í—Å—ñ —ñ–Ω—à—ñ –±–∞–≥–∏** ‚Äî –í–∂–µ –±—É–ª–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —Å–µ—Å—ñ—è—Ö

---

*–û–Ω–æ–≤–ª–µ–Ω–æ: 2026-02-22*
